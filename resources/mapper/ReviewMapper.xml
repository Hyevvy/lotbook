<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="review">
	<resultMap id="reviewResultMap" type="review">
		<id property="sequence" column="sequence" />
		<result property="rating" column="rating" />
		<result property="comment" column="comment" />
		<result property="createdAt" column="created_at" />
		<result property="updatedAt" column="updated_at" />
		<result property="isDeleted" column="is_deleted" />
		<result property="memberSequence" column="member_sequence" />
		<result property="productSequence" column="product_sequence" />
	</resultMap>

	<select id="selectReviewsByProduct" resultMap="reviewResultMap" parameterType="product">
		SELECT sequence, rating, comment, created_at, updated_at, is_deleted, member_sequence, product_sequence
		FROM review
		WHERE product_sequence = #{sequence} AND is_deleted = 0
	</select>
</mapper>